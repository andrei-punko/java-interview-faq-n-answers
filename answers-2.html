<!--According to https://getbootstrap.com/docs/5.0/getting-started/introduction/-->
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Java interview Q&A</title>
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()"/>
</head>
<body>

<div class="container">
    <p align="justify">
        <a href="index.html">Main</a>&nbsp;
        <a href="answers-1.html">Ответы 1</a>&nbsp;
        <a href="answers-2.html">Ответы 2</a>&nbsp;
        <a href="answers-3.html">Ответы 3</a>&nbsp;
        <a href="answers-4.html">Ответы 4</a>&nbsp;
    </p>
<p align="justify">
<h1>Java interview questions and answers</h1><hr/>
</p>
<p align="justify">
1. Зачем нужен Docker?<br/>
Контейнер позволяет создать изолированное окружение, в котором протестировать приложение<br/>
Также позволяет развернуть необходимую инфраструктуру, например БД, брокеры сообщений и т.д.<br/>
По сравнению с виртуалкой - требует намного меньше ресурсов<br/>
</p>
<p align="justify">
2. Со временем запрос стал выполняться дольше. Какие есть способы ускорения?<br/>
Посмотреть, какие изменения были сделаны недавно, если деградация произошла не так давно. Возможны виноваты свежие изменения.<br/>
Посмотреть план запроса, убедиться, что используются те индексы, на которые рассчитываем. Либо добавить индексы, если их нет.<br/>
Также проблема может быть в данных: их стало столько, что индекс перестал использоваться. Также убедиться в этом при помощи плана запроса.<br/>
</p>
<p align="justify">
3. Зачем нужны индексы?<br/>
Для ускорения поиска<br/>
</p>
<p align="justify">
4. Почему бы не сделать индексы на все поля сразу?<br/>
Индекс надо в том числе обновлять. в какой-то момент затраты на это могут стать критичными и замедлять выполнение запросов<br/>
</p>
<p align="justify">
5. Как работает индекс?<br/>
Было уже<br/>
</p>
<p align="justify">
6. Что такое ACID?<br/>
Было уже<br/>
</p>
<p align="justify">
7. Расскажи про Kafka? Из чего состоит Kafka?<br/>
?<br/>
</p>
<p align="justify">
8. Во сколько раз увеличится скорость обработки если в одном топике есть 5 партиций и будет 10 consumerов?<br/>
?<br/>
</p>
<p align="justify">
9. Команда Linux для просмотра java процессов<br/>
Ps aux | grep java<br/>
</p>
<p align="justify">
10. Слышал ли про Ansible? Зачем он нужен?<br/>
Было уже<br/>
</p>
<p align="justify">
11. Какие java коллекции знаешь? Какие использовал? <br/>
См. Ответы 1 - Вопрос 9<br/>
Использовал почти все из них<br/>
</p>
<p align="justify">
12. Как изнутри работает Hashmap?<br/>
См. "Ответы 3 - Вопрос 4"<br/>
</p>
<p align="justify">
13. Разница между checked и unchecked exceptions<br/>
Было уже<br/>
</p>
<p align="justify">
14. Можно ли обработать RuntimeException? Обрабатывал ли?<br/>
Да. Это unchecked exception, и его отличие от checked лишь в том, что не надо отражать возможность его бросания в сигнатуре метода<br/>
</p>
<p align="justify">
15. Использовал ли Lombok?<br/>
Да<br/>
</p>
<p align="justify">
16. Для чего нужна аннотация @SneakyThrows в Lombok?<br/>
Чтобы избегнуть указания checked exceptions в сигнатуре метода, и потом быть обязанным их обрабатывать<br/>
</p>
<p align="justify">
17. 2 вида операций Stream API<br/>
Было уже<br/>
</p>
<p align="justify">
18. Что будет выведено в консоль?<br/>
<pre>
public static Stream&lt;String&gt; bar(Stream&lt;String&gt; stream) {
    System.out.println("start bar");
    return stream.filter(el -&gt; !el.equals("bar"))
            .peek(System.out::print);
}

public static void main(String[] args) {
    Stream&lt;String&gt; stream = Stream.of("foo", "bar", "foo", "bar");
    Stream&lt;String&gt; result = bar(stream);
}
</pre>
Кажется, что будет выведено foofoo, но на стриме не вызвана терминальная операция, ничего не будет выведено.<br/>
</p>
<p align="justify">
19. Вернуть список пользователей, у которых какая-либо группа начинается на «А»:<br/>
<pre>
@Data
class User {
    private int id;
    private String name;
    private List&lt;Group&gt; groups;
}

@Data
class Group {
    private int userId;
    private String name;
}

@Slf4j
public class Test {
    public List&lt;User&gt; foo(Stream&lt;User&gt; usersStream) {
        return result;
    }
}
</pre>
?<br/>
</p>
<p align="justify">
20. Написать, как можно запустить код в отдельном потоке (несколько вариантов)<br/>
?<br/>
</p>
<p align="justify">
21. Написать ExecutorService. Какие есть преимущества у ExecutorService перед Thread?<br/>
?<br/>
</p>
<p align="justify">
22. Написать deadlock<br/>
Deadlock или взаимная блокировка — это ошибка, которая происходит когда потоки имеют циклическую зависимость от пары синхронизированных объектов.<br/>
<a href="https://www.javatpoint.com/deadlock-in-java">https://www.javatpoint.com/deadlock-in-java</a><br/>
<pre>
public class TestDeadlockExample1 {
    public static void main(String[] args) {
        final String resource1 = "resource1";
        final String resource2 = "resource2";

        // t1 tries to lock resource1 then resource2
        Thread t1 = new Thread() {
            @SneakyThrows
            public void run() {
                synchronized (resource1) {
                    System.out.println("Thread 1: locked resource 1");

                    Thread.sleep(100);

                    synchronized (resource2) {
                        System.out.println("Thread 1: locked resource 2");
                    }
                }
            }
        };

        // t2 tries to lock resource2 then resource1
        Thread t2 = new Thread() {
            @SneakyThrows
            public void run() {
                synchronized (resource2) {
                    System.out.println("Thread 2: locked resource 2");

                    Thread.sleep(100);

                    synchronized (resource1) {
                        System.out.println("Thread 2: locked resource 1");
                    }
                }
            }
        };

        t1.start();
        t2.start();
    }
}
</pre>
</p>
<p align="justify">
23. Зачем нужно ключевое слово volatile?<br/>
Для многопоточной оптимизации переменная может быть скопирована, для реализации так называемого "кэша потока". Тогда разные потоки будут работать с разными ее копиями.<br/>
Использование volatile приводит к тому, что все потоки работают с одной и той же копией этой переменной.<br/>
</p>
<p align="justify">
24. Зачем нужен GC? Привести пример работы любого GC которого знаешь.<br/>
?<br/>
</p>
<p align="justify">
25. Отличие Spring от Spring Boot?<br/>
Было уже<br/>
</p>
<p align="justify">
26. Как устроен Spring Boot starter?<br/>
Было уже<br/>
</p>
<p align="justify">
27. Расскажи про жизненный цикл bean?<br/>
!!!<br/>
</p>
<p align="justify">
28. Как донастроить bean? (вопрос про BeanPostProcessor)<br/>
Написать свой BeanPostProcessor, там добавить нужную логику донастройки бина<br/>
</p>
<p align="justify">
29. Какие есть способы внедрения зависимостей? Какие использовал?<br/>
Было уже<br/>
</p>
<p align="justify">
30. Преимущества инъекции зависимости в конструктор?<br/>
Это позволяет обнаруживать ошибки на ранней стадии: при отсутствии нужного бина в контексте, - все упадет на этапе старта приложения, а не позже, когда этот бин понадобится<br/>
</p>
<p align="justify">
31. Какие есть 3 способа заинжектить несколько имплементаций одного интерфейса?<br/>
Ответ: @Qualifier, @Primary, по имени<br/>
</p>
<p align="justify">
32. Будет ли это нормально работать? Нужно чтобы вся коллекция элементов нормально обработалась, либо ни один элемент нормально не обработался:<br/>
@Transactional<br/>
Public void processCollection(Collection<Object> objects) {<br/>
    objects.parallelStream()<br/>
            .forEach(this::processOne);<br/>
}<br/>
</p>
<p align="justify">
@Transactional<br/>
Public void processOne(Object o) {<br/>
    ...<br/>
}<br/>
</p>
<p align="justify">
33. Как сделать REST-запрос? Какие способы знаешь сделать это?<br/>
= При помощи RestTemplate: или вызовом соответствующего метода (get/post и т.п.) либо вызовом метода exchange с указанием, какой HTTP-метод использовать<br/>
= При помощи библиотеки OkHttp<br/>
= При помощи библиотеки OpenFeign<br/>
</p>

    <hr/>
    <p>
        <small>
            Autogenerated content from <a href="https://github.com/andrei-punko/java-interview-faq-n-answers">source</a>
        </small>
    </p>
</div>

<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>

<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
-->
</body>
</html>
